<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=https://litestream.io/main.b883182e2dda768438bab26e0b741e8171bee95f3164599ff5f428b2b9366b2a60ad8306b4be559a87817b0390c11de833e3df203a87b935dc9477d1cff15130.css integrity="sha512-uIMYLi3adoQ4urJuC3QegXG+6V8xZFmf9fQosrk2aypgrYMGtL5VmoeBewOQwR3oM+PfIDqHuTXclHfRz/FRMA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;1,400;1,600&display=swap" rel=stylesheet><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Command: restore - Litestream</title><meta name=description content="Litestream replicates SQLite databases in real-time to S3."><link rel=canonical href=https://litestream.io/reference/restore/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://litestream.io/images/twitter-image.png"><meta name=twitter:title content="Command: restore"><meta name=twitter:description content="The restore command recovers a database from a replica. By default, it attempts to restore the latest data. However, it can also restore databases to a specific point-in-time if it is covered by the WAL time range.
Restoration will only run if the output database file does not exist so you cannot accidentally overwrite your running database.
Usage With a database path This command will restore a database specified in the Litestream configuration file to its original location."><meta name=twitter:site content="@litestreamio"><meta name=twitter:creator content="@benbjohnson"><meta name=twitter:site content="@litestreamio"><meta name=twitter:creator content="@benbjohnson"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/litestream.io\/"},{"@type":"ListItem","position":2,"name":"Reference","item":"https:\/\/litestream.io\/reference\/"},{"@type":"ListItem","position":3,"name":"Restore","item":"https:\/\/litestream.io\/reference\/restore\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://litestream.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://litestream.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://litestream.io/favicon-16x16.png><link rel=manifest href=https://litestream.io/site.webmanifest></head><body class="reference single"><header class="navbar fixed-top navbar-expand-md navbar-light"><div class="container align-items-baseline"><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 mr-auto" href=https://litestream.io/>Litestream</a><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://twitter.com/litestreamio><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ml-2 sr-only">Twitter</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/benbjohnson/litestream><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ml-2 sr-only">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://litestream.io/install>Install</a></li><li class=nav-item><a class=nav-link href=https://litestream.io/guides>Guides</a></li><li class=nav-item><a class=nav-link href=https://litestream.io/reference>Reference</a></li><li class=nav-item><a class=nav-link href=https://litestream.io/blog/>Blog</a></li><li class=nav-item><a class=nav-link href=https://github.com/benbjohnson/litestream>GitHub</a></li><li class=nav-item><a class=nav-link href=https://join.slack.com/t/litestream/shared_invite/zt-n0j4s3ci-lx1JziR3bV6L2NMF723H3Q>Slack</a></li></ul><div class="break order-6 d-md-none"></div></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3><a href=https://litestream.io/install>Install</a></h3><ul class=list-unstyled><li><a class=docs-link href=https://litestream.io/install/mac/>macOS</a></li><li><a class=docs-link href=https://litestream.io/install/debian/>Linux (Debian)</a></li><li><a class=docs-link href=https://litestream.io/install/source/>Build from Source</a></li></ul><h3><a href=https://litestream.io/getting-started/>Getting Started</a></h3><h3><a href=https://litestream.io/tips/>Tips & Caveats</a></h3><h3><a href=https://litestream.io/guides/>Guides</a></h3><ul class=list-unstyled><li><a class=docs-link href=https://litestream.io/guides/systemd/>Running as a Systemd service</a></li><li><a class=docs-link href=https://litestream.io/guides/windows/>Running as a Windows Service</a></li><li><a class=docs-link href=https://litestream.io/guides/s3/>Replicating to Amazon S3</a></li><li><a class=docs-link href=https://litestream.io/guides/backblaze-b2/>Replicating to Backblaze B2</a></li><li><a class=docs-link href=https://litestream.io/guides/digitalocean/>Replicating to DigitalOcean Spaces</a></li><li><a class=docs-link href=https://litestream.io/guides/linode/>Replicating to Linode Object Storage</a></li></ul><h3><a href=https://litestream.io/how-it-works/>How it Works</a></h3><h3><a href=https://litestream.io/reference/>Reference</a></h3><ul class=list-unstyled><li><a class=docs-link href=https://litestream.io/reference/config/>Configuration File</a></li><li><a class=docs-link href=https://litestream.io/reference/databases/>Command: databases</a></li><li><a class=docs-link href=https://litestream.io/reference/generations/>Command: generations</a></li><li><a class=docs-link href=https://litestream.io/reference/replicate/>Command: replicate</a></li><li><a class="docs-link active" href=https://litestream.io/reference/restore/>Command: restore</a></li><li><a class=docs-link href=https://litestream.io/reference/snapshots/>Command: snapshots</a></li><li><a class=docs-link href=https://litestream.io/reference/version/>Command: version</a></li><li><a class=docs-link href=https://litestream.io/reference/wal/>Command: wal</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#usage>Usage</a><ul><li><a href=#with-a-database-path>With a database path</a></li><li><a href=#with-a-replica-url>With a replica URL</a></li></ul></li><li><a href=#arguments>Arguments</a></li><li><a href=#examples>Examples</a><ul><li><a href=#database-restore>Database restore</a></li><li><a href=#replica-url-restore>Replica URL restore</a></li><li><a href=#restore-to-new-path>Restore to new path</a></li><li><a href=#point-in-time-restore>Point-in-time restore</a></li><li><a href=#filter-by-replica-name>Filter by replica name</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>Command: restore</h1><p class=lead></p><p>The <code>restore</code> command recovers a database from a replica. By default, it
attempts to restore the latest data. However, it can also restore databases
to a specific point-in-time if it is covered by the WAL time range.</p><p>Restoration will only run if the output database file does not exist so you
cannot accidentally overwrite your running database.</p><h2 id=usage>Usage<a href=#usage class=anchor aria-hidden=true>#</a></h2><h3 id=with-a-database-path>With a database path<a href=#with-a-database-path class=anchor aria-hidden=true>#</a></h3><p>This command will restore a database specified in the Litestream configuration
file to its original location.</p><pre><code>litestream restore [arguments] DB_PATH
</code></pre><h3 id=with-a-replica-url>With a replica URL<a href=#with-a-replica-url class=anchor aria-hidden=true>#</a></h3><p>This command will restore from a replica without using the Litestream
configuration file. It is useful if you don&rsquo;t have a configuration file such
as on a development machine.</p><pre><code>litestream restore [arguments] REPLICA_URL
</code></pre><h2 id=arguments>Arguments<a href=#arguments class=anchor aria-hidden=true>#</a></h2><pre><code>-o PATH
    Output path of the restored database.
    Defaults to original DB path.

-v
    Verbose output.

-replica NAME
    Restore from a specific replica.
    Defaults to replica with latest data.

-generation NAME
    Restore from a specific generation.
    Defaults to generation with latest data.

-index NUM
    Restore up to a specific WAL index (inclusive).
    Defaults to use the highest available index.

-timestamp TIMESTAMP
    Restore to a specific point-in-time.
    Defaults to use the latest available backup.

-dry-run
    Prints all log output as if it were running but does
    not perform actual restore.

-config PATH
    Specifies the configuration file.
    Defaults to /etc/litestream.yml
</code></pre><h2 id=examples>Examples<a href=#examples class=anchor aria-hidden=true>#</a></h2><h3 id=database-restore>Database restore<a href=#database-restore class=anchor aria-hidden=true>#</a></h3><p>Restore the latest replica for the <code>/var/lib/db</code> database to its original
location:</p><pre><code>$ litestream restore /var/lib/db
</code></pre><h3 id=replica-url-restore>Replica URL restore<a href=#replica-url-restore class=anchor aria-hidden=true>#</a></h3><p>Restore from an S3 replica URL to <code>/tmp/my.db</code>:</p><pre><code>$ litestream restore -o /tmp/my.db s3://mybkt.litestream.io/my.db
</code></pre><h3 id=restore-to-new-path>Restore to new path<a href=#restore-to-new-path class=anchor aria-hidden=true>#</a></h3><p>Restores the <code>/var/lib/db</code> database to <code>/tmp/db</code> instead of its original location:</p><pre><code>$ litestream restore -o /tmp/db /var/lib/db
</code></pre><h3 id=point-in-time-restore>Point-in-time restore<a href=#point-in-time-restore class=anchor aria-hidden=true>#</a></h3><p>Restore the <code>/var/lib/db</code> database to a specific point-in-time:</p><pre><code>$ litestream restore -timestamp 2020-01-01T00:00:00Z /var/lib/db
</code></pre><h3 id=filter-by-replica-name>Filter by replica name<a href=#filter-by-replica-name class=anchor aria-hidden=true>#</a></h3><p>This example will only restore from the <code>s3</code> replica:</p><pre><code>$ litestream restore -replica s3 /var/lib/db
</code></pre><div class="docs-navigation d-flex justify-content-between"><a href=https://litestream.io/reference/replicate/><div class="card my-1"><div class="card-body py-2">&larr; Command: replicate</div></div></a><a class=ml-auto href=https://litestream.io/reference/snapshots/><div class="card my-1"><div class="card-body py-2">Command: snapshots &rarr;</div></div></a></div></main></div></div></div><footer></footer><script src=https://litestream.io/main.f6b484f556ad1f3bcf6061082139a2f21fa759f13930c39a25fe4a9f78f35e64122c2d86dffd56e67b292dabbda4095d8077194f196e0e348441c106a9f3d40e.js integrity="sha512-9rSE9VatHzvPYGEIITmi8h+nWfE5MMOaJf5Kn3jzXmQSLC2G3/1W5nspLau9pAldgHcZTxluDjSEQcEGqfPUDg==" crossorigin=anonymous defer></script><script src=https://litestream.io/index.min.3cf72e2d46fb5e5ef4c137f33b9a80ab66cb3d96bc8451412b740d90917bb1d3f5f511faa6358f78f6c5b4610e34b9f0a696d9a355e8ed0e55884a6267cf452c.js integrity="sha512-PPcuLUb7Xl70wTfzO5qAq2bLPZa8hFFBK3QNkJF7sdP19RH6pjWPePbFtGEONLnwppbZo1Xo7Q5ViEpiZ89FLA==" crossorigin=anonymous defer></script></body></html>